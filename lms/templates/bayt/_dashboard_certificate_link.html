<%!
    from django.utils.translation import ugettext as _
    from edraak_bayt.utils import check_user_publish
    from edraak_misc.utils import is_certificate_allowed
    from edraak_forus.models import ForusProfile
%>

<%page args="course" />

% if is_certificate_allowed(user, course):
    % if not check_user_publish(user.id, course.id):
        <a href="#bayt-modal" class="email-settings post-to-bayt" rel="leanModal"
           data-course-id="${course.id}" data-course-number="${course.number}"
           onclick="EdraakDisplayPopUp('${course.display_name_with_default.replace('"', '')}', '${course.id}');">
            % if ForusProfile.is_forus_user(user):
                ## Translators: Edraak-specific
                ${_("Post on ForUs and Bayt")}
            % else:
                ## Translators: Edraak-specific
                ${_("Post to Bayt")}
            % endif
        </a>
    % else:
        <a class="email-settings" href="javascript:void(0)">
            ## Translators: Edraak-specific
            ${_("Already posted to Bayt")}}
        </a>
    % endif
% endif
